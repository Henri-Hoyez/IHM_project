<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="module" src="src/components/floating_action_button/floating_action_button.js"></script>

    <script src="data/products.js"></script>


    <script type="module" src="src/components/nav_drawer/nav_drawer.js"></script>
    <script type="module" src="src/components/custom_button/custom_button.js"></script>
    <script type="module" src="src/components/top_bar/topBar.js"></script>
    <script type="module" src="src/components/up_button/up_button.js"></script>
    <script type="module" src="src/components/custom_footer/custom_footer.js"></script>
    <script type="module" src="src/components/connexion/connexion.js"></script>
    <script type="module" src="src/components/registration/registration.js"></script>
    <script type="module" src="src/components/galery/custom_card.js"></script>
    <script type="module" src="src/components/galery/custom_galery.js"></script>
    <script type="module" src="src/components/item_details/item_detail.js"></script>
    <script type="module" src="src/components/home/home.js"></script>
    <script type="module" src="src/components/account/my_account.js"></script>

    <script type="module" src="src/components/textfield/search_bar.js"></script>
    <script type="module" src="src/components/shopping_cart/shop_cart.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>

    <style>
        body {
            margin: 0;
            padding: 0;
        }

        section {
            padding: 1em;
        }

        :root {
            --mdc-theme-primary: #c62828;
            --mdc-theme-secondary: #ffca28;
            --mdc-theme-on-primary: #ffffff;
            --mdc-theme-on-secondary: #6d4c41;
        }
    </style>
</head>

<body>
    <top-bar></top-bar>
    <nav-drawer></nav-drawer>
    <search-bar></search-bar>

    
    <shop-cart id="shopping_cart" style="display : none;"></shop-cart>
    
    <custom-galery style="display: inherit;"></custom-galery> 

    <registration-form id='connection' style="display : none;"></registration-form>

    <connexion-form id="person" style="display: none;" > </connexion-form>

    <div id="shopping_cart" style="display: none;"> CECI EST LE PANIER !  </div>
    
    <item-detail></item-detail>

    <section>
        <end-command image_path="components/end_command/valid.jpg" title="YOU ARE ALMOST !"
            subtitle="Would you like to confirm the order ?"></end-command>
    </section> 

    <floating-action-button></floating-action-button>
    <custom-footer></custom-footer>
</body>



<script>
    var prev_item = null
    document.addEventListener('cat-evnt', (e) => {
        
        console.log(e.detail);

        let selected_component = document.getElementById(e.detail);
        
        if( prev_item === selected_component ){
            return;
        }

        if(selected_component != null){
            selected_component.style.display = 'inherit';
        }
        
        
        if(prev_item != null){
            prev_item.style.display = 'none';
        }

        prev_item = selected_component;
    });

</script>


</html>
